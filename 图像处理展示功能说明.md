# 图像处理展示功能说明

## 功能概述

在砂石级配实验监控平台的 Dashboard 中新增了"图像处理展示"按钮，点击后将打开一个炫酷的图像处理分析界面。

## 界面特点

### 🎨 视觉设计
- **深色科技风主题**：采用深蓝色渐变背景，配合发光效果
- **动态动画效果**：
  - 页面元素淡入动画
  - 悬浮卡片效果
  - 流动的连接线
  - 脉冲呼吸效果
  - 扫描光效
  - 进度条生长动画

### 📊 功能模块

#### 1. 顶部统计栏
- 处理图片数量
- 识别精度
- 处理速度
- 悬浮发光效果

#### 2. 图像对比展示（左侧）
- **三阶段对比**：
  - 原始图像（蓝色边框）
  - 处理中（黄色边框 + 动态点点点）
  - 处理结果（绿色边框）
- **箭头指示**：流动的箭头动画显示处理流程
- **组别选择器**：可选择查看不同组的图像
- **图像信息**：显示分辨率、大小、算法等信息

#### 3. 处理流程步骤
- **5个步骤**：图像采集 → 预处理 → 特征提取 → 结果分析 → 导出报告
- **状态指示**：
  - 已完成（蓝色发光）
  - 进行中（黄色脉冲动画）
  - 等待中（灰色）
- **连接线动画**：已完成步骤间有流动的光效

#### 4. 处理参数设置（右上）
- 图像增强开关
- 降噪等级滑块
- 边缘检测算法选择（Canny/Sobel/Laplacian）
- 阈值分割滑块
- 形态学处理开关

#### 5. 检测结果展示（右中）
- 颗粒总数（蓝色图标）
- 平均粒径（绿色图标）
- 分布均匀度（黄色图标）
- 识别质量（绿色图标）
- 卡片悬浮效果

#### 6. 粒径分布统计（右下）
- 6个粒径区间的柱状图
- 渐变色柱状图（蓝色渐变）
- 柱状图生长动画
- 悬浮时发光效果
- 显示每个区间的数量

#### 7. 操作按钮
- 重新处理（蓝色主按钮）
- 导出结果（绿色成功按钮）
- 悬浮升起效果

## 技术亮点

### 🎭 动画效果
1. **slideDown**：页面加载时标题栏下滑
2. **pulse**：背景光晕脉冲
3. **float**：图标浮动效果
4. **arrowPulse**：箭头流动动画
5. **dotPulse**：处理中的点点点
6. **currentPulse**：当前步骤的脉冲放大
7. **flowRight**：连接线的流动光效
8. **scan**：图像占位符的扫描线
9. **barGrow**：柱状图生长动画

### 🎨 视觉特效
- **Backdrop Filter**：毛玻璃背景模糊效果
- **Text Shadow**：文字发光效果
- **Box Shadow**：卡片阴影和发光
- **Linear Gradient**：渐变色背景
- **Radial Gradient**：径向光晕效果
- **Filter Drop Shadow**：图标投影发光

### 📱 响应式设计
- Grid 布局自适应
- 自定义滚动条样式
- 悬浮交互反馈
- 平滑过渡动画

## 使用方法

1. 在 Dashboard 页面点击"图像处理展示"按钮
2. **主进程将打开一个新的独立窗口**显示图像处理界面（窗口大小：1400×900）
3. 可以通过选择器切换不同组别
4. 调整右侧的处理参数
5. 查看实时的检测结果和粒径分布
6. 点击"重新处理"或"导出结果"进行操作
7. 新窗口可以独立操作，不影响主窗口

## 后续扩展

当前为静态展示页面，后续可以对接以下功能：
- [ ] 真实图像加载和显示
- [ ] 实时处理进度更新
- [ ] 参数调整后实时重新处理
- [ ] 处理结果的导出功能
- [ ] 历史记录查看
- [ ] 批量处理功能
- [ ] 算法参数优化建议

## 文件位置

- 组件文件：`src/renderer/src/components/ImageProcessing.vue`
- 页面视图：`src/renderer/src/views/ImageProcessingPage.vue`
- 使用位置：`src/renderer/src/views/Dashboard.vue`
- 主进程：`src/main/index.js`（添加了 `open-image-processing-window` IPC 处理）
- 路由配置：`src/renderer/src/router/index.js`（添加了 `/image-processing` 路由）

## 技术实现

### Electron 主进程窗口创建
点击按钮后，通过 IPC 通信调用主进程的 `open-image-processing-window` 处理器：
- 创建独立的 BrowserWindow（1400×900）
- 设置窗口背景色为深色主题 (#0a0e27)
- 配置 CSP 头允许本地 API 访问
- 加载 Vue Router 的 `/image-processing` 路由

### IPC 通信流程
```
渲染进程 (Dashboard.vue)
    ↓ window.api.ipcRenderer.invoke('open-image-processing-window')
主进程 (index.js)
    ↓ ipcMain.handle('open-image-processing-window')
创建新窗口
    ↓ loadURL('/#/image-processing')
渲染进程 (ImageProcessingPage.vue)
```

## 注意事项

- 所有图标都使用 Element Plus 的图标库
- 颜色主题与主系统保持一致（蓝色科技风）
- 组件采用响应式设计，适配不同屏幕尺寸
- 所有动画都经过性能优化，不会影响系统运行
- **新窗口是独立的进程窗口**，可以与主窗口同时操作
- 新窗口不需要登录验证（meta.requiresAuth: false）

